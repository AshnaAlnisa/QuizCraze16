{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ashna.alnisa\\\\Desktop\\\\Quiz App\\\\Frontend\\\\QuizCraze16\\\\src\\\\components\\\\Quiz\\\\QuizList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport Modal from './Modal.js';\nimport '../../styles/quizList.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QuizList = () => {\n  _s();\n  const [quizzes, setQuizzes] = useState([]);\n  const [selectedQuiz, setSelectedQuiz] = useState(null);\n  const [selectedOptions, setSelectedOptions] = useState({});\n  const [timer, setTimer] = useState(59); // Initial timer value in seconds\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const [score, setScore] = useState(0);\n  const [showModal, setShowModal] = useState(false);\n  const [correctAnswers, setCorrectAnswers] = useState(0);\n  const [incorrectAnswers, setIncorrectAnswers] = useState(0);\n  const [showTimeUpModal, setShowTimeUpModal] = useState(false); // State for time's up modal\n  const timerRef = useRef(null); // Reference to the timer\n\n  useEffect(() => {\n    const fetchQuizCards = async () => {\n      try {\n        const response = await axios.post('http://localhost:5164/viewCardQuiz', {\n          eventID: \"1001\"\n        });\n        const data = response.data;\n        if (data && data.rData && data.rData.items) {\n          setQuizzes(data.rData.items);\n        }\n      } catch (error) {\n        console.error('Error fetching quiz cards:', error);\n      }\n    };\n    fetchQuizCards();\n  }, []);\n  const startTimer = () => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n    }\n    setTimer(59); // Reset timer to initial value (e.g., 5 seconds)\n    timerRef.current = setInterval(() => {\n      setTimer(prev => {\n        if (prev <= 1) {\n          clearInterval(timerRef.current);\n          setShowTimeUpModal(true); // Show time's up modal\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n  };\n  const handleStartQuiz = async quizCardId => {\n    try {\n      const response = await axios.post(`http://localhost:5164/viewQuizByQuizCardId`, {\n        eventID: \"1001\",\n        addInfo: {\n          quiz_card_id: quizCardId\n        }\n      });\n      const data = response.data;\n      if (data && data.rData && data.rData.items) {\n        setSelectedQuiz({\n          id: quizCardId,\n          quizzes: data.rData.items\n        });\n        setSelectedOptions({});\n        setIsSubmitted(false); // Reset submission state\n        setScore(0); // Reset score\n        setShowModal(false); // Hide modal if open\n        setCorrectAnswers(0);\n        setIncorrectAnswers(0);\n        setShowTimeUpModal(false); // Hide time's up modal if open\n        startTimer(); // Start the timer when starting a new quiz\n      }\n    } catch (error) {\n      console.error('Error fetching quizzes:', error);\n    }\n  };\n  const handleOptionSelect = (questionId, option) => {\n    setSelectedOptions({\n      ...selectedOptions,\n      [questionId]: option\n    });\n    console.log(`Selected option for question ${questionId}: ${option}`);\n  };\n  const handleSubmitQuiz = () => {\n    if (selectedQuiz) {\n      let newScore = 0;\n      let correctCount = 0;\n      let incorrectCount = 0;\n      selectedQuiz.quizzes.forEach(question => {\n        if (selectedOptions[question.quiz_id] === question.correct_answer) {\n          newScore += 1;\n          correctCount += 1;\n        } else {\n          incorrectCount += 1;\n        }\n      });\n      setScore(newScore);\n      setCorrectAnswers(correctCount);\n      setIncorrectAnswers(incorrectCount);\n      setIsSubmitted(true);\n      setShowModal(true); // Show modal when quiz is submitted\n      clearInterval(timerRef.current); // Stop the timer\n    }\n  };\n  const [user, setUser] = useState({\n    user_id: '',\n    username: '',\n    name: '',\n    email: '',\n    address: '',\n    picture: null\n  });\n  useEffect(() => {\n    fetchUserData();\n  }, []);\n  const fetchUserData = async () => {\n    try {\n      var _response$data$rData;\n      const currentUser = JSON.parse(localStorage.getItem('currentUser'));\n      const userEmail = currentUser === null || currentUser === void 0 ? void 0 : currentUser.email;\n      const response = await axios.post('http://localhost:5164/viewUsers', {\n        eventID: \"1001\",\n        addInfo: {\n          email: userEmail\n        }\n      });\n      const userData = ((_response$data$rData = response.data.rData) === null || _response$data$rData === void 0 ? void 0 : _response$data$rData.items) || [];\n      const foundUser = userData.find(user => user.email === userEmail);\n      if (foundUser) {\n        setUser(foundUser);\n      } else {\n        console.error('User data does not match logged-in user');\n      }\n    } catch (error) {\n      console.error('Error fetching user data:', error);\n    }\n  };\n  const renderQuizQuestions = quizCard => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"quiz-details\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: quizCard.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: quizCard.no_of_questions\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"timer\",\n      children: [\"Timer: \", Math.floor(timer / 60), \":\", timer % 60 < 10 ? `0${timer % 60}` : timer % 60, \" seconds\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: quizCard.quizzes.map(q => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: q.question\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [q.option1, q.option2, q.option3, q.option4].map((option, index) => {\n            let className = '';\n            if (isSubmitted) {\n              if (option === q.correct_answer) {\n                className = 'correct-option';\n              } else if (selectedOptions[q.quiz_id] === option) {\n                className = 'incorrect-option';\n              }\n            } else if (selectedOptions[q.quiz_id] === option) {\n              className = 'selected-option';\n            }\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              className: className,\n              onClick: () => handleOptionSelect(q.quiz_id, option),\n              children: option\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this)]\n      }, q.quiz_id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmitQuiz,\n      className: \"button\",\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"button\",\n      onClick: () => {\n        clearInterval(timerRef.current); // Stop the timer when going back\n        setSelectedQuiz(null);\n      },\n      children: \"Back to Quizzes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"quiz-list\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Available Quizzes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this), !selectedQuiz ? /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: quizzes.map(quizCard => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: quizCard.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Total Questions : \", quizCard.no_of_questions]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleStartQuiz(quizCard.quiz_card_id),\n          className: \"start-quiz\",\n          children: \"Start Quiz\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 15\n        }, this)]\n      }, quizCard.quiz_card_id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 9\n    }, this) : renderQuizQuestions(selectedQuiz), showTimeUpModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Time's Up!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Time is over. Please submit your quiz.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setShowTimeUpModal(false); // Close time's up modal\n            handleSubmitQuiz(); // Handle quiz submission\n          },\n          children: \"Submit Quiz\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: showModal,\n      onClose: () => setShowModal(false),\n      correctAnswers: correctAnswers,\n      incorrectAnswers: incorrectAnswers,\n      score: score,\n      userId: user.user_id,\n      quizCardId: selectedQuiz ? selectedQuiz.id : null,\n      handleSubmit: handleSubmitQuiz\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 5\n  }, this);\n};\n_s(QuizList, \"IZIQO3zYWqQ05Nv/qa5Djfz8iDA=\");\n_c = QuizList;\nexport default QuizList;\nvar _c;\n$RefreshReg$(_c, \"QuizList\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","Modal","jsxDEV","_jsxDEV","QuizList","_s","quizzes","setQuizzes","selectedQuiz","setSelectedQuiz","selectedOptions","setSelectedOptions","timer","setTimer","isSubmitted","setIsSubmitted","score","setScore","showModal","setShowModal","correctAnswers","setCorrectAnswers","incorrectAnswers","setIncorrectAnswers","showTimeUpModal","setShowTimeUpModal","timerRef","fetchQuizCards","response","post","eventID","data","rData","items","error","console","startTimer","current","clearInterval","setInterval","prev","handleStartQuiz","quizCardId","addInfo","quiz_card_id","id","handleOptionSelect","questionId","option","log","handleSubmitQuiz","newScore","correctCount","incorrectCount","forEach","question","quiz_id","correct_answer","user","setUser","user_id","username","name","email","address","picture","fetchUserData","_response$data$rData","currentUser","JSON","parse","localStorage","getItem","userEmail","userData","foundUser","find","renderQuizQuestions","quizCard","className","children","title","fileName","_jsxFileName","lineNumber","columnNumber","no_of_questions","Math","floor","map","q","option1","option2","option3","option4","index","onClick","isOpen","onClose","userId","handleSubmit","_c","$RefreshReg$"],"sources":["C:/Users/ashna.alnisa/Desktop/Quiz App/Frontend/QuizCraze16/src/components/Quiz/QuizList.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport Modal from './Modal.js';\r\nimport '../../styles/quizList.css';\r\n\r\nconst QuizList = () => {\r\n  const [quizzes, setQuizzes] = useState([]);\r\n  const [selectedQuiz, setSelectedQuiz] = useState(null);\r\n  const [selectedOptions, setSelectedOptions] = useState({});\r\n  const [timer, setTimer] = useState(59); // Initial timer value in seconds\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n  const [score, setScore] = useState(0);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [correctAnswers, setCorrectAnswers] = useState(0);\r\n  const [incorrectAnswers, setIncorrectAnswers] = useState(0);\r\n  const [showTimeUpModal, setShowTimeUpModal] = useState(false); // State for time's up modal\r\n  const timerRef = useRef(null); // Reference to the timer\r\n\r\n  useEffect(() => {\r\n    const fetchQuizCards = async () => {\r\n      try {\r\n        const response = await axios.post('http://localhost:5164/viewCardQuiz', { eventID: \"1001\" });\r\n        const data = response.data;\r\n        if (data && data.rData && data.rData.items) {\r\n          setQuizzes(data.rData.items);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching quiz cards:', error);\r\n      }\r\n    };\r\n\r\n    fetchQuizCards();\r\n  }, []);\r\n\r\n  const startTimer = () => {\r\n    if (timerRef.current) {\r\n      clearInterval(timerRef.current);\r\n    }\r\n    setTimer(59); // Reset timer to initial value (e.g., 5 seconds)\r\n    timerRef.current = setInterval(() => {\r\n      setTimer(prev => {\r\n        if (prev <= 1) {\r\n          clearInterval(timerRef.current);\r\n          setShowTimeUpModal(true); // Show time's up modal\r\n          return 0;\r\n        }\r\n        return prev - 1;\r\n      });\r\n    }, 1000);\r\n  };\r\n\r\n  const handleStartQuiz = async (quizCardId) => {\r\n    try {\r\n      const response = await axios.post(`http://localhost:5164/viewQuizByQuizCardId`, {\r\n        eventID: \"1001\",\r\n        addInfo: { quiz_card_id: quizCardId }\r\n      });\r\n\r\n      const data = response.data;\r\n      if (data && data.rData && data.rData.items) {\r\n        setSelectedQuiz({\r\n          id: quizCardId,\r\n          quizzes: data.rData.items\r\n        });\r\n        setSelectedOptions({});\r\n        setIsSubmitted(false); // Reset submission state\r\n        setScore(0); // Reset score\r\n        setShowModal(false); // Hide modal if open\r\n        setCorrectAnswers(0);\r\n        setIncorrectAnswers(0);\r\n        setShowTimeUpModal(false); // Hide time's up modal if open\r\n        startTimer(); // Start the timer when starting a new quiz\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching quizzes:', error);\r\n    }\r\n  };\r\n\r\n  const handleOptionSelect = (questionId, option) => {\r\n    setSelectedOptions({\r\n      ...selectedOptions,\r\n      [questionId]: option,\r\n    });\r\n    console.log(`Selected option for question ${questionId}: ${option}`);\r\n  };\r\n\r\n  const handleSubmitQuiz = () => {\r\n    if (selectedQuiz) {\r\n      let newScore = 0;\r\n      let correctCount = 0;\r\n      let incorrectCount = 0;\r\n      selectedQuiz.quizzes.forEach(question => {\r\n        if (selectedOptions[question.quiz_id] === question.correct_answer) {\r\n          newScore += 1;\r\n          correctCount += 1;\r\n        } else {\r\n          incorrectCount += 1;\r\n        }\r\n      });\r\n      setScore(newScore);\r\n      setCorrectAnswers(correctCount);\r\n      setIncorrectAnswers(incorrectCount);\r\n      setIsSubmitted(true);\r\n      setShowModal(true); // Show modal when quiz is submitted\r\n      clearInterval(timerRef.current); // Stop the timer\r\n    }\r\n  };\r\n\r\n  const [user, setUser] = useState({\r\n    user_id: '',\r\n    username: '',\r\n    name: '',\r\n    email: '',\r\n    address: '',\r\n    picture: null\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchUserData();\r\n  }, []);\r\n\r\n  const fetchUserData = async () => {\r\n    try {\r\n      const currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n      const userEmail = currentUser?.email;\r\n\r\n      const response = await axios.post('http://localhost:5164/viewUsers', {\r\n        eventID: \"1001\",\r\n        addInfo: { email: userEmail }\r\n      });\r\n\r\n      const userData = response.data.rData?.items || [];\r\n      const foundUser = userData.find(user => user.email === userEmail);\r\n\r\n      if (foundUser) {\r\n        setUser(foundUser);\r\n      } else {\r\n        console.error('User data does not match logged-in user');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching user data:', error);\r\n    }\r\n  };\r\n\r\n  const renderQuizQuestions = (quizCard) => (\r\n    <div className=\"quiz-details\">\r\n      <h3>{quizCard.title}</h3>\r\n      <p>{quizCard.no_of_questions}</p>\r\n      <div className=\"timer\">Timer: {Math.floor(timer / 60)}:{timer % 60 < 10 ? `0${timer % 60}` : timer % 60} seconds</div>\r\n      <ul>\r\n        {quizCard.quizzes.map(q => (\r\n          <li key={q.quiz_id}>\r\n            <p>{q.question}</p>\r\n            <ul>\r\n              {[q.option1, q.option2, q.option3, q.option4].map((option, index) => {\r\n                let className = '';\r\n                if (isSubmitted) {\r\n                  if (option === q.correct_answer) {\r\n                    className = 'correct-option';\r\n                  } else if (selectedOptions[q.quiz_id] === option) {\r\n                    className = 'incorrect-option';\r\n                  }\r\n                } else if (selectedOptions[q.quiz_id] === option) {\r\n                  className = 'selected-option';\r\n                }\r\n                return (\r\n                  <li\r\n                    key={index}\r\n                    className={className}\r\n                    onClick={() => handleOptionSelect(q.quiz_id, option)}\r\n                  >\r\n                    {option}\r\n                  </li>\r\n                );\r\n              })}\r\n            </ul>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      <button onClick={handleSubmitQuiz} className='button'>Submit</button>\r\n      <button className='button' onClick={() => {\r\n        clearInterval(timerRef.current); // Stop the timer when going back\r\n        setSelectedQuiz(null);\r\n      }}>Back to Quizzes</button>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"quiz-list\">\r\n      <h2>Available Quizzes</h2>\r\n      {!selectedQuiz ? (\r\n        <ul>\r\n          {quizzes.map(quizCard => (\r\n            <li key={quizCard.quiz_card_id}>\r\n              <h3>{quizCard.title}</h3>\r\n              <p>Total Questions : {quizCard.no_of_questions}</p>\r\n              <button onClick={() => handleStartQuiz(quizCard.quiz_card_id)} className='start-quiz'>Start Quiz</button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      ) : (\r\n        renderQuizQuestions(selectedQuiz)\r\n      )}\r\n\r\n      {/* Time's Up Modal */}\r\n      {showTimeUpModal && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal-content\">\r\n            <h2>Time's Up!</h2>\r\n            <p>Time is over. Please submit your quiz.</p>\r\n            <button onClick={() => {\r\n              setShowTimeUpModal(false); // Close time's up modal\r\n              handleSubmitQuiz(); // Handle quiz submission\r\n            }}>Submit Quiz</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Quiz Results Modal */}\r\n      <Modal\r\n        isOpen={showModal}\r\n        onClose={() => setShowModal(false)}\r\n        correctAnswers={correctAnswers}\r\n        incorrectAnswers={incorrectAnswers}\r\n        score={score}\r\n        userId={user.user_id}\r\n        quizCardId={selectedQuiz ? selectedQuiz.id : null}\r\n        handleSubmit={handleSubmitQuiz}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QuizList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}